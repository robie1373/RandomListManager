<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="src/styles.css">
</head>
<body class="dark-mode">
    <div id="app">
        <!-- Navigation Context -->
        <div id="navContext">items</div>
        
        <!-- Tab Navigation -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="items">Items</button>
            <button class="tab-btn" data-tab="weapons" id="tab-weapons">Weapons</button>
            <button class="tab-btn" data-tab="encounters">Encounters</button>
        </div>
        
        <!-- Input and Add Button -->
        <div class="input-section">
            <input id="simpleInput" type="text" placeholder="Enter item name and dice (e.g., Potion 2d4)">
            <button class="btn-add">Add Item</button>
        </div>
        
        <!-- Results Display -->
        <div id="resultWrapper">
            <div id="result">Ready to roll...</div>
            <button id="copyBtn" class="hidden">ðŸ“‹ Copy</button>
        </div>
        <button id="rollBtn" class="btn-random">ðŸŽ² Roll on Table</button>
        
        <!-- Items Table -->
        <table>
            <thead>
                <tr>
                    <th id="tableNameHeader">Name</th>
                    <th>Tags</th>
                    <th>Reference</th>
                    <th>Weight</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="tableBody">
            </tbody>
        </table>
    </div>
        
    <script type="module" src="src/ui.js"></script>
        
    <script type="module">
        import { DiceEngine } from './src/logic.js';
        
        // UI Logic lives here
        const rollBtn = document.getElementById('rollBtn');
        const resultDisplay = document.getElementById('result');

        rollBtn.addEventListener('click', () => {
            // 1. Get data from your state (assume 'data' is loaded)
            const list = data[currentTab]; 
            // 2. Use logic engine
            const item = DiceEngine.pickWeightedItem(list);
            if (item) {
                const finalString = DiceEngine.parseDice(item.name);
                resultDisplay.innerText = finalString;
            }
        });
    </script>
</body>
</html>